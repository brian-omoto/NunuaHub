{% extends 'store/base.html' %}

{% block content %}
<h2>Welcome to NunuaHub Store</h2>
<p>Your one-stop shop for all your needs!</p>

<h3>Featured Products</h3>
<div class="product-grid">
    {% for product in products %}
    <div class="product-card">
        <h4>{{ product.name }}</h4>
        <p class="price">Ksh {{ product.price }}</p>
        <p>{{ product.description|truncatewords:20 }}</p>
        <a href="{% url 'product_detail' product.id %}">View Details</a>
        <img src="{{ product.image.url }}" alt="Product named {{ product.name }} displayed in the store smkdir -p store/static/store/cssetting, showing packaging and branding details if visible. The product is presented for sale, with price and category information nearby.">
        {% if user.is_authenticated %}
        <a href="{% url 'cart:add_to_cart' product.id %}" style="background: #3498db; color: white; padding: 5px 10px; text-decoration: none; border-radius: 3px; display: inline-block; margin-top: 10px;">Add to Cart</a>
        {% endif %}
    </div>
    {% empty %}
    <p>No products available yet. Please add products through the admin panel.</p>
    {% endfor %}
</div>

<h3>Categories</h3>
<ul>
    {% for category in categories %}
    <li><a href="{% url 'category_products' category.id %}">{{ category.name }}</a></li>
    {% empty %}
    <li>No categories yet. Please add categories through the admin panel.</li>
    {% endfor %}
</ul>
{% endblock %}